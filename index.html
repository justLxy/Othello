<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>墨弈・Moiré - Othello AI人机对战游戏</title>
    <meta name="description" content="Play Othello/Reversi online against an advanced AI that uses Alpha-Beta pruning and dynamic heuristics. Challenge yourself with adjustable difficulty levels. 黑白棋在线智能对战，支持中英文。">
    <meta name="keywords" content="Othello game, Reversi game, play Othello online, Othello AI, Reversi strategy, 黑白棋游戏, 黑白棋在线玩, 黑白棋AI, 翻转棋, 奥赛罗棋, 黑白棋人工智能, 墨弈, 黑白棋人机对战游戏, Moiré" />
    <meta name="author" content="Xuanyi Lyu">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/7880/7880402.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1 class="en">Moiré・Othello Game AI</h1>
                <h1 class="zh">墨弈・Moiré ｜ 黑白棋人机对战游戏</h1>
                <p class="tagline en">Moiré, with black and white as its rhythm, unfolds a poetic chess game among the vertical and horizontal lines</p>
                <p class="tagline zh">墨弈，以黑白为韵，于纵横间演绎如诗棋局。</p>
                <div class="language-selector">
                    <button id="en-button" class="lang-btn active">English</button>
                    <button id="zh-button" class="lang-btn">中文</button>
                </div>
                <div class="github-link">
                    <a href="https://github.com/justLxy/Othello" target="_blank">
                        <i class="fab fa-github"></i> <span class="en">View on GitHub</span><span class="zh">在GitHub上查看</span>
                    </a>
                </div>
            </div>
        </header>

        <main>
            <section class="game-section">
                <div class="game-wrapper">
                    <div class="game-info">
                        <div class="score">
                            <div class="score-item dark">
                                <div class="disk dark"></div>
                                <span id="dark-score">2</span>
                            </div>
                            <div class="score-item light">
                                <div class="disk light"></div>
                                <span id="light-score">2</span>
                            </div>
                        </div>
                        <div id="status-message"><span class="en">Your turn</span><span class="zh">你的回合</span></div>
                    </div>

                    <div class="game-board" id="game-board">
                        <!-- Board will be generated by JavaScript -->
                    </div>

                    <div class="game-controls">
                        <div class="control-group">
                            <label for="player-color"><span class="en">Play as:</span><span class="zh">选择棋子:</span></label>
                            <div class="toggle-container">
                                <label class="toggle">
                                    <input type="radio" name="player-color" value="dark" checked>
                                    <span class="toggle-label"><span class="en">Dark (First)</span><span class="zh">黑棋(先手)</span></span>
                                </label>
                                <label class="toggle">
                                    <input type="radio" name="player-color" value="light">
                                    <span class="toggle-label"><span class="en">Light (Second)</span><span class="zh">白棋(后手)</span></span>
                                </label>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="ai-difficulty"><span class="en">Difficulty (Depth):</span><span class="zh">难度 (深度):</span></label>
                            <div class="range-slider">
                                <input type="range" id="ai-difficulty" min="1" max="7" value="1" class="slider">
                                <span id="difficulty-value">1</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <button id="start-game" class="btn primary"><span class="en">Start New Game</span><span class="zh">开始新游戏</span></button>
                            <button id="hint-btn" class="btn secondary"><span class="en">Show Hint</span><span class="zh">落子提示</span></button>
                        </div>
                    </div>
                </div>

                <div class="game-description">
                    <h2 class="en">Game Rules</h2>
                    <h2 class="zh">游戏规则</h2>
                    <div class="en">
                        <p>Othello (also known as Reversi) is a strategic board game played on an 8×8 board with 64 disks that are dark on one side and light on the other.</p>
                        <ul>
                            <li><strong>Starting Position:</strong> The game begins with 4 disks placed in the center, with 2 dark and 2 light disks arranged diagonally.</li>
                            <li><strong>Gameplay:</strong> Players take turns placing disks on the board with their assigned color facing up.</li>
                            <li><strong>Valid Moves:</strong> A move is valid only if it "brackets" at least one opponent's disk between the newly placed disk and another disk of the player's color.</li>
                            <li><strong>Flipping:</strong> When a player makes a valid move, all opponent disks that are bracketed are flipped to the player's color.</li>
                            <li><strong>No Valid Moves:</strong> If a player has no valid moves, their turn is skipped.</li>
                            <li><strong>Game End:</strong> The game ends when neither player can make a valid move or the board is full.</li>
                            <li><strong>Winner:</strong> The player with the most disks of their color on the board wins.</li>
                        </ul>
                    </div>
                    
                    <div class="zh">
                        <p>黑白棋（又称翻转棋）是一种策略性棋盘游戏，在8×8的棋盘上进行，使用64个黑白双面的棋子。</p>
                        <ul>
                            <li><strong>起始位置：</strong>游戏开始时，棋盘中央放置4个棋子，2个黑色和2个白色呈对角线排列。</li>
                            <li><strong>游戏流程：</strong>玩家轮流在棋盘上放置棋子，棋子的指定颜色朝上。</li>
                            <li><strong>有效落子：</strong>落子必须能够在新放置的棋子和玩家已有的同色棋子之间"夹住"至少一个对手的棋子。</li>
                            <li><strong>翻转棋子：</strong>当玩家进行有效落子时，所有被"夹住"的对手棋子都会被翻转为玩家的颜色。</li>
                            <li><strong>无有效落子：</strong>如果玩家没有有效的落子位置，将跳过其回合。</li>
                            <li><strong>游戏结束：</strong>当双方都无法进行有效落子或棋盘已满时，游戏结束。</li>
                            <li><strong>胜利条件：</strong>棋盘上拥有最多己方颜色棋子的玩家获胜。</li>
                        </ul>
                    </div>
                    
                    <h2 class="en">About This AI</h2>
                    <h2 class="zh">关于此AI</h2>
                    
                    <div class="en">
                        <p>This Othello/Reversi AI player was developed by <strong>Xuanyi Lyu</strong> as a project for CSC384 - Introduction to AI at the University of Toronto. The AI uses the Alpha-Beta pruning algorithm with state caching and node ordering optimizations to efficiently search the game tree.</p>
                        
                        <h3>Advanced Heuristic Evaluation</h3>
                        <p>The custom heuristic evaluates board positions using multiple weighted factors that change according to the game phase:</p>
                        <ul>
                            <li><strong>Corner Control</strong> - Corners are extremely valuable as they can never be flipped</li>
                            <li><strong>Edge Stability</strong> - Edge pieces are more stable than center pieces</li>
                            <li><strong>Mobility</strong> - Having more possible moves provides strategic flexibility</li>
                            <li><strong>Piece Difference</strong> - Raw count becomes more important in the endgame</li>
                            <li><strong>Corner Adjacency</strong> - Avoiding dangerous positions near corners unless already controlled</li>
                        </ul>
                        
                        <p>The AI dynamically adjusts its evaluation weights based on the game phase, prioritizing mobility and positional play early, and transitioning to maximizing piece count in the endgame.</p>
                    </div>
                    
                    <div class="zh">
                        <p>这个黑白棋AI由<strong>Xuanyi Lyu</strong>开发，作为多伦多大学CSC384人工智能导论课程的项目。该AI使用Alpha-Beta剪枝算法，结合状态缓存和节点排序优化，高效地搜索游戏树。</p>
                        
                        <h3>高级启发式评估</h3>
                        <p>自定义启发式算法根据游戏阶段使用多种加权因素评估棋盘局势：</p>
                        <ul>
                            <li><strong>角落控制</strong> - 角落极其珍贵，因为它们永远不会被翻转</li>
                            <li><strong>边缘稳定性</strong> - 边缘棋子比中心棋子更稳定</li>
                            <li><strong>行动力</strong> - 拥有更多可能的走法提供战略灵活性</li>
                            <li><strong>棋子差异</strong> - 在残局阶段，原始棋子数量变得更加重要</li>
                            <li><strong>角落相邻位置</strong> - 避免在角落附近的危险位置，除非已经控制了角落</li>
                        </ul>
                        
                        <p>AI根据游戏阶段动态调整评估权重，在早期优先考虑行动力和位置战略，在残局过渡到最大化棋子数量。</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p class="en">Developed by Xuanyi Lyu for CSC384 - Introduction to Artificial Intelligence</p>
            <p class="zh">由Xuanyi Lyu开发，用于CSC384 - 人工智能导论课程</p>
            <p class="en">University of Toronto, Winter 2025</p>
            <p class="zh">多伦多大学，2025年冬季</p>
        </footer>
    </div>

    <!-- Modal for game end -->
    <div id="end-game-modal" class="modal">
        <div class="modal-content">
            <h2 id="winner-message"><span class="en">Game Over!</span><span class="zh">游戏结束！</span></h2>
            <div class="final-score">
                <div class="score-item dark">
                    <div class="disk dark"></div>
                    <span id="final-dark-score">0</span>
                </div>
                <div class="score-item light">
                    <div class="disk light"></div>
                    <span id="final-light-score">0</span>
                </div>
            </div>
            <button id="play-again" class="btn primary"><span class="en">Play Again</span><span class="zh">再来一局</span></button>
        </div>
    </div>

    <!-- Loading indicator -->
    <div id="ai-thinking" class="ai-thinking">
        <div class="thinking-animation">
            <div class="disk dark"></div>
            <div class="disk light"></div>
            <div class="disk dark"></div>
        </div>
        <p class="en">AI is thinking...</p>
        <p class="zh">AI正在思考...</p>
    </div>

    <script src="script.js"></script>
</body>
</html>
